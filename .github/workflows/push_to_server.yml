name: Deploy Action
on: 
  push: 
    branches: ['main']
    jobs: 
      deploy-to-server:
        runs-on: ubuntu-latest
        steps:
        - name: ğŸšš Getting Latest code
        - uses: actions/checkout@v2
        - name: ğŸ€ Setting up environment
        - uses: actions/setup-node@v2
          with:
            node-version: '14'
        - name: ğŸ’£ Installing dependencies
        - run: npm install
        - name: ğŸ”¨ Building Project
        - run: npm run build
        - name: ğŸ“‚ Sync files to server
          uses: SamKirkland/FTP-Deploy-Action@4.0.0
          with:
            server: ideaux.in
            username: ${{ secrets.ftp_user }}
            password: ${{ secrets.ftp_password }}
            server-dir: ./test/
            local-dir: ./dist/